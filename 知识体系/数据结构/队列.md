# 队列

- 先进先出FIFO
- 前删后增

**应用场景**

线程队列

事件队列

## 实现

- 基于数组
- 基于链表

## 常见操作

- enQueue
- deQueue
- front

```js
function Queue() {
  // 属性
  this.items = []

  // 方法

  // enQueue
  Queue.prototype.enQueue = function (element) {
    this.item.push(element)
  }

  // deQueue
  Queue.prototype.deQueue =function () {
    return this.items.shift()
  }

  // front
  Queue.prototype.front = function () {
    return this.items[0]
  }
}
```

## 击鼓传花

几个人围成一圈，数到某个数字的人自动淘汰

最后剩下的这个人会获得胜利，问，胜利者原来在哪一个位置

```js
function passGame(nameList, num) {
  // 创建队列
  let queue = new Queue()

  // 将所有人加入队列
  for (let i = 0; i < nameList.length; i++) {
    queue.enQueue(nameList[i])
  }  

  // 数数字
  // 当队列长度不为1时一直循环
  while (queue.size() > 1) {
    // num数字之前的人重新放入队列的末尾
    for (let i = 0; i < num - 1; i++) {
      queue.enQueue(queue.deQueue)
    }
    // num对应的的人，从队列中删除~
    queue.deQueue()
  }
  
  return nameList.indexof(queue.front())
}
```

# 优先级队列

**插入**一个元素时会考虑该数的**优先级**

**应用**

- 登机
- 急诊科
- 线程

## 实现

```js
function PriorityQueue() {
  // 属性
  this.items = []

  function QueueElement(element, priority) {
    this.element = element
    this.priority = priority
  }
  // 方法
  // enQueue
  PriorityQueue.prototype.enQueue = function (element, priority) {
    // 创建QueueElement对象
    const queueElement = new QueueElement(element, priority)
    // 判断队列是否为空
    if (this.isEmpty()) {
      this.items.push(queueElement)
    } else {
      // 记录是否有机会添加
      let added = false
      for (let i = 0; i < this.items.length; i++) {
        if (queueElement.priority < this.items[i].priority) {
          this.items.splice(i, 0, queueElement)
          added = true
          break
        }
        
      }
      // 如果优先级不如队列中其它元素，直接放最后
      if (!added) {
        this.items.push(queueElement)
      }
    }
  }

  // deQueue
  PriorityQueue.prototype.deQueue =function () {
    return this.items.shift()
  }

  // front
  PriorityQueue.prototype.front = function () {
    return this.items[0]
  }
}
```

